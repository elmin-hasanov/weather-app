(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function c(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=c(e);fetch(e.href,n)}})();const u=document.getElementById("cityInput"),w=document.getElementById("searchButton"),L=document.getElementById("cityName"),r=document.getElementById("main"),$=document.getElementById("countryName"),E=document.getElementById("weatherIcon"),M=document.getElementById("temperature"),B=document.getElementById("localTime"),H=document.getElementById("windSpeed"),S=document.getElementById("cloudiness"),T=document.getElementById("pressure"),b=document.getElementById("humidity"),C=document.getElementById("sunrise"),N=document.getElementById("sunset"),v=document.getElementById("geoCoords"),p=document.getElementById("errorMessage");u.addEventListener("keydown",s=>{s.key==="Enter"&&m(u.value)});w.addEventListener("click",()=>{m(u.value)});const a="79d687152090a1108c1deb50501a57e1";function m(s){fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${s}&appid=${a}`).then(t=>t.json()).then(t=>{const c=t[0].lon,i=t[0].lat;console.log(t),fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${i}&lon=${c}&appid=${a}&units=metric`).then(e=>e.json()).then(e=>{M.innerHTML=`${Math.round(e.main.temp)} Â°C`,console.log(e.weather[0].main),O(e.weather[0].main),E.innerHTML=`<img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png"/>`,L.innerHTML=`${e.name}`,$.innerHTML=`${e.sys.country}`;const n=new Date(e.dt*1e3),o=String(n.getHours()).padStart(2,"0"),g=String(n.getMinutes()).padStart(2,"0");B.innerHTML=`<p>LocalTime <span>${o}:${g}</span></p>`,H.innerHTML=`<p>WindSpeed <span>${e.wind.speed}</span></p>`,S.innerHTML=`<p>Cloudiness <span>${e.clouds.all} %</span></p>`,T.innerHTML=`<p>Pressure <span>${e.main.pressure} hpa</span></p>`,b.innerHTML=`<p>Humidity <span>${e.main.humidity} %</span></p>`,v.innerHTML=`<p>GeoCoords <span>${e.coord.lon}, ${e.coord.lat}</span></p>`;const d=new Date(e.sys.sunrise*1e3),y=String(d.getHours()).padStart(2,"0"),f=String(d.getMinutes()).padStart(2,"0");C.innerHTML=`<p>Sunrise <span>${y}:${f}</span></p>`;const l=new Date(e.sys.sunset*1e3),I=String(l.getHours()).padStart(2,"0"),h=String(l.getMinutes()).padStart(2,"0");N.innerHTML=`<p>Sunset <span>${I}:${h}</span></p>`})}).catch(t=>console.log(t)),s===""?p.innerHTML="<p>City not found</p>":p.style.display="none"}function O(s){let t=s.toLowerCase();t.includes("rain")?r.style.backgroundImage="url('./dist/assets/rain.gif')":t.includes("snow")?r.style.backgroundImage="url('./dist/assets/snow.gif')":t.includes("clouds")?r.style.backgroundImage="url('./dist/assets/cloudy.gif')":t.includes("clear")?r.style.backgroundImage="url('./dist/assets/clear.gif')":r.style.backgroundImage=""}
